From ea4c0821269ccce62bcaf368f21d9edd0dbd51e8 Mon Sep 17 00:00:00 2001
From: Federico Mena Quintero <federico@gnome.org>
Date: Mon, 4 Dec 2017 18:25:20 -0600
Subject: [PATCH] rsvg_handle_resolve_uri(): Make public

---
 rsvg-base.c    |   10 +++++-----
 rsvg-private.h |    4 ++++
 2 files changed, 9 insertions(+), 5 deletions(-)

diff --git a/rsvg-base.c b/rsvg-base.c
index 43258ba..e87dd59 100644
--- a/rsvg-base.c
+++ b/rsvg-base.c
@@ -2747,9 +2747,9 @@ rsvg_allow_load (GFile       *base_gfile,
     return FALSE;
 }
 
-static char *
-_rsvg_handle_resolve_uri (RsvgHandle *handle,
-                          const char *uri)
+char *
+rsvg_handle_resolve_uri (RsvgHandle *handle,
+                         const char *uri)
 {
     RsvgHandlePrivate *priv = handle->priv;
     char *scheme, *resolved_uri;
@@ -2787,7 +2787,7 @@ _rsvg_handle_acquire_data (RsvgHandle *handle,
     char *uri;
     char *data;
 
-    uri = _rsvg_handle_resolve_uri (handle, url);
+    uri = rsvg_handle_resolve_uri (handle, url);
 
     if (rsvg_allow_load (priv->base_gfile, uri, error)) {
         data = _rsvg_io_acquire_data (uri,
@@ -2814,7 +2814,7 @@ _rsvg_handle_acquire_stream (RsvgHandle *handle,
     char *uri;
     GInputStream *stream;
 
-    uri = _rsvg_handle_resolve_uri (handle, url);
+    uri = rsvg_handle_resolve_uri (handle, url);
 
     if (rsvg_allow_load (priv->base_gfile, uri, error)) {
         stream = _rsvg_io_acquire_stream (uri,
diff --git a/rsvg-private.h b/rsvg-private.h
index cbf50dc..ffc2c6b 100644
--- a/rsvg-private.h
+++ b/rsvg-private.h
@@ -410,6 +410,10 @@ void rsvg_return_if_fail_warning (const
                                   const char *expression, GError ** error);
 
 G_GNUC_INTERNAL
+char *rsvg_handle_resolve_uri (RsvgHandle *handle,
+                               const char *uri);
+
+G_GNUC_INTERNAL
 char *_rsvg_handle_acquire_data (RsvgHandle *handle,
                                  const char *uri,
                                  char **content_type,
-- 
1.7.9.5

